<%
    var hashCode = function (str) {
        if (!str && str.length === 0) {
            return 0;
        }

        var hash = 0;
        for (var i = 0, len = str.length; i < len; i++) {
            hash = ((hash << 5) - hash) + str.charCodeAt(i);
            hash |= 0;
        }
        return hash;
    };
%>

<%
  var img = 'https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/ada660a8c596431983dddd411a12f2b3.jpg!sswm';
  var imgs = theme.imgs;
  if (!imgs || imgs.length === 0) {
      return img;
  }
  img = imgs[Math.abs(hashCode(post.title) % imgs.length)]
%>
<div class="post-detail-header" style="background: url(<%=post.img || img %>) no-repeat; background-size: cover; 
  background-position: center center;">
  <% if (theme.postTitleTop.on === true){ %>
    <span class="title"><%= post.title %></span>
  <% } %>
</div>